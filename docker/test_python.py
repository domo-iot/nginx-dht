import websocket
from websocket import create_connection

websocket.enableTrace(True)

token = "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICItSnc0OENxRERuS2xIcS1JM1VreDJOTFc5OGpobWh0YlUtUm5sMUVheDlzIn0.eyJleHAiOjE2ODQ5NDI2NTAsImlhdCI6MTY4NDkyMTA1MCwiYXV0aF90aW1lIjowLCJqdGkiOiIwZGNhMjdjMy00NDM0LTRmZGItOWZiMS1kZGQ4NzY4OWU0MGIiLCJpc3MiOiJodHRwOi8va2V5Y2xvYWs6ODA4MC9hdXRoL3JlYWxtcy95Z2dpbyIsImF1ZCI6InlnZ2lvLXNlcnZpY2VzIiwic3ViIjoiZTIwNWZhZjktODMxZS00YmJhLWI1YmQtY2ExNmU4ZGM4NzQzIiwidHlwIjoiSUQiLCJhenAiOiJ5Z2dpby1zZXJ2aWNlcyIsInNlc3Npb25fc3RhdGUiOiI1ODEzY2YzZS1kYzY1LTQ5NDAtYTkyOC04NjAzZGU2NTY3MDIiLCJhdF9oYXNoIjoiaHV4NkVRdjVqcUpxWnFUbF90WnV0QSIsInNpZCI6IjU4MTNjZjNlLWRjNjUtNDk0MC1hOTI4LTg2MDNkZTY1NjcwMiIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkb21lbmljby5kZWd1Z2xpZWxtbyIsImVtYWlsIjoiZG9tZW5pY28uZGVndWdsaWVsbW9AZG9tby1pb3QuY29tIn0.Xzq9HTcCHs5Gku24qUvaYf7-FDttnhEr0VzyLcm-DYPuXz7bBrgLeji-bXk_To7W9Q62ikJ5mqdbb7lr-znF_OlMhtWMh48KZX-Xa6DPbXW9iBgmvigbhpL7ctCO2sKyykQhnM8-fF0hCeciIGYFMkfd3gvWAJBBm1V6ILZQ-399XoHhb1xjdFnVLR2TqiFdFJZDYgw7A9xjod4sJ8WfLzXUSLmkm53IL357DQbpxq3u6EjWqOwU-3yuIVmsWSk4xD4q_bjIcAknJiih9Dxcldr0tLcTNL60o3DoxdZBbzo7PYAljLT6p6mocHtD35Xf_T_neOGQe0M1RIdH9zVrfQ"

header = "Authorization: Bearer " + token

ws = create_connection("wss://sifis-device1.iit.cnr.it:8300/dht-ws", header=[header])

print(ws.recv())
ws.close()
